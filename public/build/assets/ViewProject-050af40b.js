import{V as b}from"./ViewProject-f22408b1.js";import{_ as k,i as g,z as _,q as h,J as m,c as f,k as v,b as i,T as P,l as w,F as D,H as y,r as c,o as p,a as M,w as V,f as C,I as d}from"./app-6beb027d.js";import"./marketer-af2eb23a.js";import"./Modal-5bdc59e0.js";import"./followersFormat-58554cdc.js";import"./pdf-10d8791c.js";import"./convertDate-873f89eb.js";import"./MobileProjectBreakdownDisplayCard-cdef13d7.js";import"./Projects-10ad0c97.js";import"./MobileProjectDisplayCard-3c6bb014.js";const x={setup(t){d("activeTab","All Projects"),d("pageName","All Projects");const s=g(),r=_({is_assigned:l(),assignment:u()});h(()=>{m().props.errors!=null&&m().props.errors.WorkspaceError!=null&&(n[0]=m().props.errors)});function a(){axios.post(y("MarketerMarkAsComplete",r)).then(e=>{e.data.status?(alert("Project was marked as complete."),alert("Credits have been transferred to the influencer"),window.location.reload()):alert("Error marking project as complete.")}).catch(e=>{alert("Error marking project as complete.")})}function l(){let e=!1;if(t.project!=null&&t.project.bids!=null){for(let o of t.project.bids)if(o.assignment!=null){e=!0;break}}return e}function u(){let e=null;if(t.project!=null&&t.project.bids!=null){for(let o of t.project.bids)if(o.assignment!=null){e=o.assignment;break}}return e}d("assignmentDetails",r);let n=_([]);return{auth:s,is_assigned:l,assignmentDetails:r,errorBag:n,markAsComplete:a}},components:{ViewProject:b},props:["project","marketer"],inject:["currentUser"]},B={key:0,class:"flex justify-end mb-[10px]"};function A(t,s,r,a,l,u){const n=c("MobileDashboardLayout"),e=c("MobileDashboardHeader"),o=c("ViewProject",!0),j=c("DesktopDashboardLayout");return p(),f(D,null,[(p(),v(P,{to:"body"},[i(n,{activePage:"Projects"})])),i(e,{backButton:!0,title:"Projects"}),i(j,null,{default:w(()=>[a.assignmentDetails&&a.assignmentDetails.is_assigned&&r.project.status!="Inactive"?(p(),f("div",B,[M("button",{onClick:s[0]||(s[0]=V(E=>a.markAsComplete(),["prevent"])),class:"purple p4"},"Mark Project as Complete")])):C("",!0),i(o,{project:r.project,display:"Marketer",marketer:r.marketer},null,8,["project","marketer"])]),_:1})],64)}const U=k(x,[["render",A],["__scopeId","data-v-4c901765"]]);export{U as default};
