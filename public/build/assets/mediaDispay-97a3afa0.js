import{_ as y,z as k,j as C,q as w,c as i,a as e,w as n,F as b,s as D,o as a,f as d,A as $}from"./app-7ce278c5.js";import{p as _}from"./pdf-4f22d2ae.js";const x={class:"media-display"},j={class:"upload-section"},M={class:"input-group"},E={class:"display-section mb-[80px]"},F={key:0,class:"image-display"},V=["src"],B={class:"image-overlay"},N=["onClick"],U=["onClick"],A={key:1,class:"image-display"},I=["data-file"],O={class:"image-overlay"},P=["onClick"],q=["onClick"],z={key:2,class:"image-display flex items-center justify-between"},G={class:"p-[10px]",style:{height:"100%"},controls:"",autoplay:""},L=["src"],S={class:"image-overlay"},T=["onClick"],W=["onClick"],H={name:"mediaDispay",data(){return{file:null}}},J=Object.assign(H,{props:["fileForm","assignmentDetails"],setup(v){const m=k(v.assignmentDetails),p=C([]);w(async()=>{for(const o of p.value)try{const s=window.location.origin;let t=o.getAttribute("data-file");const f=(s+"/storage/"+t).replace(/\s/g,"%20");_.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js";const u=await(await _.getDocument(f).promise).getPage(1),h=u.getViewport({scale:.4}),c=document.createElement("canvas");c.width=280,c.height=300;const g={canvasContext:c.getContext("2d"),viewport:h};await u.render(g).promise,o.appendChild(c)}catch{}});function r(o){const s=`/storage/${o.path}`,t=document.createElement("a");t.href=s,t.download=o.path.split("/").pop(),document.body.appendChild(t),t.click(),document.body.removeChild(t)}return(o,s)=>(a(),i("div",x,[e("div",j,[e("div",M,[e("input",{type:"file",onInput:s[0]||(s[0]=t=>o.file=t.target.files[0])},null,32)]),e("button",{onClick:s[1]||(s[1]=n(t=>o.$emit("uploadFile",o.file),["prevent"]))},"Upload")]),e("ul",E,[(a(!0),i(b,null,D(m.assignment.media,t=>(a(),i("li",null,[t.type=="image"?(a(),i("div",F,[e("img",{src:"/storage/"+t.path},null,8,V),e("div",B,[e("ul",null,[e("li",null,[e("button",{onClick:n(l=>r(t),["prevent"])},"Download",8,N)]),e("li",null,[e("button",{onClick:n(l=>o.$emit("DeleteMedia",t),["prevent"])},"remove",8,U)])])])])):d("",!0),t.type=="PDF"?(a(),i("div",A,[e("div",{class:"pdf-display","data-file":t.path,ref_for:!0,ref_key:"pdf_display",ref:p},null,8,I),e("div",O,[e("ul",null,[e("li",null,[e("button",{onClick:n(l=>r(t),["prevent"])},"Download",8,P)]),e("li",null,[e("button",{onClick:n(l=>o.$emit("DeleteMedia",t),["prevent"])},"remove",8,q)])])])])):d("",!0),t.type=="video"?(a(),i("div",z,[e("video",G,[e("source",{src:"/storage/"+t.path},null,8,L),$(" Error Message ")]),e("div",S,[e("ul",null,[e("li",null,[e("button",{onClick:n(l=>r(t),["prevent"])},"Download",8,T)]),e("li",null,[e("button",{onClick:n(l=>o.$emit("DeleteMedia",t),["prevent"])},"remove",8,W)])])])])):d("",!0)]))),256))])]))}}),Z=y(J,[["__scopeId","data-v-4eb944cd"]]);export{Z as default};
