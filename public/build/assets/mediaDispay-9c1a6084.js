import{x as v,r as C,C as w,c as a,a as e,w as n,F as b,m as D,o as i,g as d,q as x}from"./app-6ca4d7f9.js";import{p as m}from"./pdf-ac36aa31.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const j={class:"media-display"},M={class:"upload-section"},E={class:"input-group"},F={class:"display-section mb-[80px]"},V={key:0,class:"image-display"},B=["src"],N={class:"image-overlay"},U=["onClick"],I=["onClick"],O={key:1,class:"image-display"},P=["data-file"],q={class:"image-overlay"},A=["onClick"],G=["onClick"],L={key:2,class:"image-display flex items-center justify-between"},S={class:"p-[10px]",style:{height:"100%"},controls:"",autoplay:""},T=["src"],W={class:"image-overlay"},z=["onClick"],H=["onClick"],J={name:"mediaDispay"},K=Object.assign(J,{props:["fileForm","assignmentDetails"],setup(h){const f=v(h.assignmentDetails),p=v({data:null}),u=C([]);w(async()=>{for(const o of u.value)try{const s=window.location.origin;let t=o.getAttribute("data-file");const g=(s+"/storage/"+t).replace(/\s/g,"%20");m.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js";const _=await(await m.getDocument(g).promise).getPage(1),y=_.getViewport({scale:.4}),c=document.createElement("canvas");c.width=280,c.height=300;const k={canvasContext:c.getContext("2d"),viewport:y};await _.render(k).promise,o.appendChild(c)}catch{}});function r(o){const s=`/storage/${o.path}`,t=document.createElement("a");t.href=s,t.download=o.path.split("/").pop(),document.body.appendChild(t),t.click(),document.body.removeChild(t)}return(o,s)=>(i(),a("div",j,[e("div",M,[e("div",E,[e("input",{type:"file",onInput:s[0]||(s[0]=t=>p.data=t.target.files[0])},null,32)]),e("button",{onClick:s[1]||(s[1]=n(t=>o.$emit("uploadFile",p),["prevent"]))},"Upload")]),e("ul",F,[(i(!0),a(b,null,D(f.assignment.media,t=>(i(),a("li",null,[t.type=="image"?(i(),a("div",V,[e("img",{src:"/storage/"+t.path},null,8,B),e("div",N,[e("ul",null,[e("li",null,[e("button",{onClick:n(l=>r(t),["prevent"])},"Download",8,U)]),e("li",null,[e("button",{onClick:n(l=>o.$emit("DeleteMedia",t),["prevent"])},"remove",8,I)])])])])):d("",!0),t.type=="PDF"?(i(),a("div",O,[e("div",{class:"pdf-display","data-file":t.path,ref_for:!0,ref_key:"pdf_display",ref:u},null,8,P),e("div",q,[e("ul",null,[e("li",null,[e("button",{onClick:n(l=>r(t),["prevent"])},"Download",8,A)]),e("li",null,[e("button",{onClick:n(l=>o.$emit("DeleteMedia",t),["prevent"])},"remove",8,G)])])])])):d("",!0),t.type=="video"?(i(),a("div",L,[e("video",S,[e("source",{src:"/storage/"+t.path},null,8,T),x(" Error Message ")]),e("div",W,[e("ul",null,[e("li",null,[e("button",{onClick:n(l=>r(t),["prevent"])},"Download",8,z)]),e("li",null,[e("button",{onClick:n(l=>o.$emit("DeleteMedia",t),["prevent"])},"remove",8,H)])])])])):d("",!0)]))),256))])]))}}),te=$(K,[["__scopeId","data-v-901d1a34"]]);export{te as default};
