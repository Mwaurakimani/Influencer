import{r as f,C as v,c as w,a as t,w as n,o as g}from"./app-6ca4d7f9.js";import{p as l}from"./pdf-ac36aa31.js";import{_ as u}from"./_plugin-vue_export-helper-c27b6911.js";const h={class:"image-display"},k={class:"image-section"},y={class:"header-section"},b={class:"body"},x={class:"pdf-view"},C=["data-file"],M={class:"footer"},$={name:"ImageViewModal"},j=Object.assign($,{props:["media"],setup(d){const i=d,r=f();return v(async()=>{try{const o=window.location.origin;let e=r.value,a=e.getAttribute("data-file");const p=(o+"/storage/"+a).replace(/\s/g,"%20");l.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js";const c=await(await l.getDocument(p).promise).getPage(1),m=c.getViewport({scale:.5}),s=document.createElement("canvas");s.width=300,s.height=500;const _={canvasContext:s.getContext("2d"),viewport:m};await c.render(_).promise,e.appendChild(s)}catch(o){console.log(o)}}),(o,e)=>(g(),w("div",h,[t("div",k,[t("div",y,[t("p",{onClick:e[0]||(e[0]=n(a=>o.$emit("closeModel"),["prevent"]))},"X")]),t("div",b,[t("div",x,[t("div",{ref_key:"pdf_display",ref:r,"data-file":d.media.data.path},null,8,C)])]),t("div",M,[t("button",{onClick:e[1]||(e[1]=n(a=>o.$emit("download",i.media.data.path),["prevent"]))},"Download"),t("button",{onClick:e[2]||(e[2]=n(a=>o.$emit("DeleteMedia",i.media.data),["prevent"]))},"remove")])])]))}}),U=u(j,[["__scopeId","data-v-c5a3a4e6"]]);export{U as default};
