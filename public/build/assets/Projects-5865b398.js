import{z as k,_ as T,i as X,B as O,H as A,c as u,k as j,a as e,w as m,F as w,s as I,d as f,e as y,f as _,n as C,x as z,T as R,b as S,t as b,A as V,o as c,G as h,p as E,g as G,r as D}from"./app-7ce278c5.js";import{P as H,M as L}from"./MobileProjectDisplayCard-f17d3a5d.js";import{M as Y}from"./Modal-7c0bae20.js";import"./followersFormat-58554cdc.js";const M=k(["Facebook","Twitter","Instagram","Tiktok"]),g=k({platforms:[]});function U(i,t){if(i.is(":checked")){let n={[t]:{}};g.platforms.push(n)}else g.platforms=g.platforms.filter(n=>Object.keys(n)[0]!==t)}function P(i,t){const n=i.parent().parent().parent().find(".platformName").text().trim(),l=g.platforms.find(p=>Object.keys(p)[0]===n);if(i.is(":checked"))l?l[n].influencerClassFilter?l[n].influencerClassFilter.push(t):l[n].influencerClassFilter=[t]:g.platforms.push({[n]:{influencerClassFilter:[t]}});else if(l&&l[n].influencerClassFilter){const p=l[n].influencerClassFilter.indexOf(t);p!==-1&&l[n].influencerClassFilter.splice(p,1)}}const F=()=>{$(".platformSelectX").on("change",i=>{i.stopImmediatePropagation();let t=$(i.target),n=t.parent().find("label").text();M.includes(n)?U(t,n):P(t,n)}),$(".platformSelectY").on("change",i=>{i.stopImmediatePropagation();let t=$(i.target),n=t.parent().find("label").text();M.includes(n)?U(t,n):P(t,n)})};function q(i){const t=g.platforms;for(let n=0;n<t.length;n++)if(Object.keys(t[n])[0]===i)return!0;return!1}const J=Object.freeze(Object.defineProperty({__proto__:null,filterData:g,findPlatform:q,platforms:M,setUp:F},Symbol.toStringTag,{value:"Module"}));const Q={computed:{filterData(){return g}},setup(i){const t=X(),{status:n,user:l}=O(t),p=k({filters:{platform:[],budget:{from:null,to:null}},sort:{by:null,order:null},search:null});M.forEach(v=>{let x={data:"0",sub:{Nano_Influencer:"0",Micro_Influencer:"0",Macro_Influencer:"0",Meta_Influencer:"0",Mega_Influencer:"0"}};x[v]=x.data,delete x.data,p.filters.platform.push(x)});const o={properties:k({visible:!1,display:null}),openModal:v=>{document.body.style.overflow="hidden",o.properties.visible=!0,o.properties.display=v,F()},closeModal:()=>{document.body.style.overflow="auto",o.properties.visible=!1}};return{auth:t,status:n,user:l,fun:J,modal:o,filterDataset:p}},components:{Modal:Y,PaginationComponent:H,MobileProjectDisplayCard:L},inject:["currentUser"],props:["projects"],data(){return{filterProjects:this.projects}},methods:{sortDataset(){axios.post(A("mainPageDatasetAction"),{dataset:this.filterDataset}).then(i=>{i.data.projects.length>0?(this.filterProjects=i.data.projects,this.modal.closeModal()):(this.filterProjects=null,console.log("done"))}).catch(i=>{console.log("Error :"+i)})},openFilters(i){this.modal.openModal(i)},disableSort(){this.filterDataset.sort.by=null,this.filterDataset.sort.order=null,this.sortDataset()},disableSearch(){console.log("hi"),this.filterDataset.search=null,this.sortDataset()},disableBudgetFilter(){this.filterDataset.filters.budget.from=null,this.filterDataset.filters.budget.to=null,this.sortDataset()}},mounted(){this.fun.setUp(),this.currentUser!=null&&this.auth.authenticate()}},a=i=>(E("data-v-d9fd94c3"),i=i(),G(),i),W={class:"flex p-[10px] justify-between",style:{"border-bottom":"1px solid #dadada"}},Z=a(()=>e("h3",null,"Filters",-1)),ee=a(()=>e("p",{class:"text-white"},"X",-1)),te=[ee],le={class:"filter-pane bg-white lg:flex",style:{"background-color":"#f3f3f3",padding:"20px"}},se={style:{"max-height":"70vh",overflow:"auto"}},oe=a(()=>e("h6",null,"Platforms",-1)),ae={class:"pl-[0px]"},re=["onUpdate:modelValue"],ne={class:"platformName"},ie={key:0,class:"ml-[30px]"},de=["onUpdate:modelValue"],ce=a(()=>e("label",null,"Nano-Influencer (1K - 10K)",-1)),fe=["onUpdate:modelValue"],ue=a(()=>e("label",null,"Micro-Influencer (10K - 50K)",-1)),pe=["onUpdate:modelValue"],me=a(()=>e("label",null,"Macro-Influencer (50K - 200K)",-1)),he=["onUpdate:modelValue"],_e=a(()=>e("label",null,"Meta-Influencer (200K - 500K)",-1)),be=["onUpdate:modelValue"],ge=a(()=>e("label",null,"Mega-Influencer (500K+)",-1)),xe=a(()=>e("h6",null,"Budget Range",-1)),ve={class:"mt-[10px]"},ye={class:"flex mb-[10px] align-middle"},De=a(()=>e("label",{class:"w-[50px] p-[10px]"},"From",-1)),we={class:"flex align-middle"},ke=a(()=>e("label",{class:"w-[50px] p-[10px]"},"To",-1)),Me=a(()=>e("article",{class:"w-100% pb-[20px] grid place-content-center"},[e("button",{class:"button purple mx-[auto] mt-[20px]",style:{width:"100px"}},"Apply")],-1)),je={class:"flex p-[10px] justify-between",style:{"border-bottom":"1px solid #dadada"}},Ie=a(()=>e("h3",null,"Sort",-1)),Se=a(()=>e("p",{class:"text-white"},"X",-1)),Ve=[Se],Ce={class:"filter-pane bg-white lg:flex items-center justify-center",style:{"background-color":"#f3f3f3",padding:"20px"}},Ue={class:"flex items-center gap-[10px] mb-[20px]"},Pe=a(()=>e("label",{class:"w-[60px]"},"Sort By:",-1)),Fe=a(()=>e("option",{value:"budget"},"Budget",-1)),Ke=a(()=>e("option",{value:"runtime"},"Campaign Runtime",-1)),Ne=[Fe,Ke],Be={class:"flex items-center gap-[10px] mb-[20px]"},Te=a(()=>e("label",{class:"w-[60px]"},"Order:",-1)),Xe=a(()=>e("option",{value:"asc"},"Ascending",-1)),Oe=a(()=>e("option",{value:"desc"},"Descending",-1)),Ae=[Xe,Oe],ze=a(()=>e("article",{class:"w-100% pb-[10px] grid place-content-center"},[e("button",{class:"button purple mx-[auto] mt-[20px]",style:{width:"100px"}},"Sort")],-1)),Re={class:"flex p-[10px] justify-between",style:{"border-bottom":"1px solid #dadada"}},Ee=a(()=>e("h3",null,"Search",-1)),Ge=a(()=>e("p",{class:"text-white"},"X",-1)),He=[Ge],Le={class:"filter-pane bg-white lg:flex",style:{"background-color":"#f3f3f3",padding:"20px"}},Ye={class:"flex flex-wrap"},qe=a(()=>e("button",{class:"button purple mx-[auto] mt-[20px]",style:{width:"100%"}},"Search",-1)),Je={class:"bg-white"},Qe={class:""},We={class:"flex items-center"},Ze=a(()=>e("h3",{class:"pt-[10px]",style:{color:"var(--t-purple)"}},"Projects",-1)),$e={class:"actions"},et=a(()=>e("input",{type:"search",placeholder:"Search..."},null,-1)),tt=[et],lt={key:0,class:"sm:flex-wrap items-center hidden"},st={class:"block mb-[10px] w-[100%]"},ot={class:"content-area mb-[50px]"},at={class:"desktop-content-area lg:flex lg:gap-[20px]"},rt={class:"filter-pane w-[360px] bg-white hidden lg:flex px-[5px]",style:{"background-color":"#f3f3f3",padding:"20px"}},nt=a(()=>e("h6",null,"Platforms",-1)),it={class:"pl-[10px]"},dt=["onUpdate:modelValue"],ct={class:"platformName"},ft={key:0,class:"ml-[30px]"},ut=["onUpdate:modelValue"],pt=a(()=>e("label",null,"Nano-Influencer (1K - 10K)",-1)),mt=["onUpdate:modelValue"],ht=a(()=>e("label",null,"Micro-Influencer (10K - 50K)",-1)),_t=["onUpdate:modelValue"],bt=a(()=>e("label",null,"Macro-Influencer (50K - 200K)",-1)),gt=["onUpdate:modelValue"],xt=a(()=>e("label",null,"Meta-Influencer (200K - 500K)",-1)),vt=["onUpdate:modelValue"],yt=a(()=>e("label",null,"Mega-Influencer (500K+)",-1)),Dt=a(()=>e("h6",null,"Budget Range",-1)),wt={class:"mt-[10px]"},kt={class:"flex mb-[10px] align-middle"},Mt=a(()=>e("label",{class:"w-[50px] p-[10px]"},"From",-1)),jt={class:"flex align-middle"},It=a(()=>e("label",{class:"w-[50px] p-[10px]"},"To",-1)),St={class:"md:w-[calc(100%-360px)]"},Vt={class:"bg-white p-[10px] w-[100%] flex flex-wrap",style:{"align-items":"center",gap:"10px","border-bottom":"1px solid lightgrey"}},Ct={key:0,class:"category-pill"},Ut={key:1,class:"category-pill"},Pt={key:2,class:"category-pill"},Ft={class:"lg:bg-white p-[10px]",style:{"justify-content":"space-between",width:"100%"}},Kt={key:0,class:"w-[100%] flex flex-wrap xl:justify-between p-[10px] gap-2"},Nt={key:1,class:"w-[350px] mb-[30px]"},Bt=a(()=>e("p",{style:{"font-weight":"bolder","font-size":"1.5em"}},"No Projects Found",-1)),Tt=[Bt];function Xt(i,t,n,l,p,o){const v=D("MobileNavigationComponent"),x=D("DesktopNavigationVue"),K=D("MobileProjectDisplayCard"),N=D("pagination-component"),B=D("Footer");return c(),u(w,null,[(c(),j(R,{to:"body"},[e("div",{class:z(["flex items-center justify-center",["modal-element",l.modal.properties.visible?"visible":""]])},[l.modal.properties.display=="Filters"?(c(),u("form",{key:0,onSubmit:t[3]||(t[3]=m((...s)=>o.sortDataset&&o.sortDataset(...s),["prevent"])),id:"Filters",class:"bg-white sm:w-[95%] mx-[auto]",style:{"border-radius":"5px","box-shadow":"0 0 6px #444444",overflow:"hidden"}},[e("article",W,[Z,e("div",{onClick:t[0]||(t[0]=m(s=>l.modal.closeModal(),["prevent"])),style:{width:"20px",height:"20px",display:"grid","place-items":"center",color:"white","border-radius":"50%"},class:"bg-red-500"},te)]),e("div",le,[e("div",se,[e("section",null,[oe,e("ul",ae,[(c(!0),u(w,null,I(l.fun.platforms,(s,d)=>(c(),u("div",{class:"platformSelectX",key:s},[e("div",null,[f(e("input",{type:"checkbox",class:"platformSelect","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d][s]=r},null,8,re),[[h,l.filterDataset.filters.platform[d][s]]]),e("label",ne,b(s),1)]),l.fun.findPlatform(s)?(c(),u("ul",ie,[e("li",null,[f(e("input",{type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Nano_Influencer=r},null,8,de),[[h,l.filterDataset.filters.platform[d].sub.Nano_Influencer]]),ce]),e("li",null,[f(e("input",{type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Micro_Influencer=r},null,8,fe),[[h,l.filterDataset.filters.platform[d].sub.Micro_Influencer]]),ue]),e("li",null,[f(e("input",{type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Macro_Influencer=r},null,8,pe),[[h,l.filterDataset.filters.platform[d].sub.Macro_Influencer]]),me]),e("li",null,[f(e("input",{type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Meta_Influencer=r},null,8,he),[[h,l.filterDataset.filters.platform[d].sub.Meta_Influencer]]),_e]),e("li",null,[f(e("input",{type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Mega_Influencer=r},null,8,be),[[h,l.filterDataset.filters.platform[d].sub.Mega_Influencer]]),ge])])):_("",!0)]))),128))])]),e("section",null,[xe,e("ul",ve,[e("li",ye,[De,f(e("input",{class:"w-[150px] h-[30px]",type:"number",placeholder:"Ksh","onUpdate:modelValue":t[1]||(t[1]=s=>l.filterDataset.filters.budget.from=s)},null,512),[[y,l.filterDataset.filters.budget.from]])]),e("li",we,[ke,f(e("input",{class:"w-[150px] h-[30px]",type:"number",placeholder:"Ksh","onUpdate:modelValue":t[2]||(t[2]=s=>l.filterDataset.filters.budget.to=s)},null,512),[[y,l.filterDataset.filters.budget.to]])])])])])]),Me],32)):_("",!0),l.modal.properties.display=="Sort"?(c(),u("form",{key:1,onSubmit:t[7]||(t[7]=m((...s)=>o.sortDataset&&o.sortDataset(...s),["prevent"])),id:"Sort",class:"bg-white w-fit mx-[auto] h-fit",style:{"border-radius":"5px","box-shadow":"0 0 6px #444444",overflow:"hidden"}},[e("article",je,[Ie,e("div",{onClick:t[4]||(t[4]=m(s=>l.modal.closeModal(),["prevent"])),style:{width:"20px",height:"20px",display:"grid","place-items":"center",color:"white","border-radius":"50%"},class:"bg-red-500"},Ve)]),e("div",Ce,[e("div",Ue,[Pe,f(e("select",{class:"w-[200px]","onUpdate:modelValue":t[5]||(t[5]=s=>l.filterDataset.sort.by=s)},Ne,512),[[C,l.filterDataset.sort.by]])]),e("div",Be,[Te,f(e("select",{class:"w-[200px]","onUpdate:modelValue":t[6]||(t[6]=s=>l.filterDataset.sort.order=s)},Ae,512),[[C,l.filterDataset.sort.order]])])]),ze],32)):_("",!0),l.modal.properties.display=="Search"?(c(),u("form",{key:2,onSubmit:t[10]||(t[10]=m((...s)=>o.sortDataset&&o.sortDataset(...s),["prevent"])),id:"Search",class:"bg-white w-fit mx-[auto] h-fit",style:{"border-radius":"5px","box-shadow":"0 0 6px #444444",overflow:"hidden"}},[e("article",Re,[Ee,e("div",{onClick:t[8]||(t[8]=m(s=>l.modal.closeModal(),["prevent"])),style:{width:"20px",height:"20px",display:"grid","place-items":"center",color:"white","border-radius":"50%"},class:"bg-red-500"},He)]),e("div",Le,[e("div",Ye,[f(e("input",{type:"search",class:"w-[100%]","onUpdate:modelValue":t[9]||(t[9]=s=>l.filterDataset.search=s),placeholder:"Search by title"},null,512),[[y,l.filterDataset.search]]),qe])])],32)):_("",!0)],2)])),e("nav",null,[S(v,{activeNavButton:"Projects"}),S(x,{class:"scrolled",activeNavButton:"Projects"})]),e("header",Je,[e("div",Qe,[e("section",We,[Ze,e("div",$e,[e("button",{onClick:t[11]||(t[11]=m(s=>o.openFilters("Filters"),["prevent"]))},"Filters"),e("button",{onClick:t[12]||(t[12]=m(s=>o.openFilters("Sort"),["prevent"]))},"Sort"),e("button",{onClick:t[13]||(t[13]=m(s=>o.openFilters("Search"),["prevent"]))},"Search")])]),e("form",{onSubmit:t[14]||(t[14]=m((...s)=>i.searchProduct&&i.searchProduct(...s),["prevent"])),class:"hidden"},tt,32),n.projects&&n.projects.length>0?(c(),u("section",lt,[e("p",st,b(n.projects.length)+" Projects found",1)])):_("",!0)])]),e("div",ot,[e("div",at,[e("div",rt,[e("div",null,[e("section",null,[nt,e("ul",it,[(c(!0),u(w,null,I(l.fun.platforms,(s,d)=>(c(),u("div",{class:"platformSelectX",key:s},[e("div",null,[f(e("input",{type:"checkbox",class:"platformSelect","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d][s]=r,onChange:t[15]||(t[15]=(...r)=>o.sortDataset&&o.sortDataset(...r))},null,40,dt),[[h,l.filterDataset.filters.platform[d][s]]]),e("label",ct,b(s),1)]),l.fun.findPlatform(s)?(c(),u("ul",ft,[e("li",null,[f(e("input",{onChange:t[16]||(t[16]=(...r)=>o.sortDataset&&o.sortDataset(...r)),type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Nano_Influencer=r},null,40,ut),[[h,l.filterDataset.filters.platform[d].sub.Nano_Influencer]]),pt]),e("li",null,[f(e("input",{onChange:t[17]||(t[17]=(...r)=>o.sortDataset&&o.sortDataset(...r)),type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Micro_Influencer=r},null,40,mt),[[h,l.filterDataset.filters.platform[d].sub.Micro_Influencer]]),ht]),e("li",null,[f(e("input",{onChange:t[18]||(t[18]=(...r)=>o.sortDataset&&o.sortDataset(...r)),type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Macro_Influencer=r},null,40,_t),[[h,l.filterDataset.filters.platform[d].sub.Macro_Influencer]]),bt]),e("li",null,[f(e("input",{onChange:t[19]||(t[19]=(...r)=>o.sortDataset&&o.sortDataset(...r)),type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Meta_Influencer=r},null,40,gt),[[h,l.filterDataset.filters.platform[d].sub.Meta_Influencer]]),xt]),e("li",null,[f(e("input",{onChange:t[20]||(t[20]=(...r)=>o.sortDataset&&o.sortDataset(...r)),type:"checkbox","true-value":"1","false-value":"0","onUpdate:modelValue":r=>l.filterDataset.filters.platform[d].sub.Mega_Influencer=r},null,40,vt),[[h,l.filterDataset.filters.platform[d].sub.Mega_Influencer]]),yt])])):_("",!0)]))),128))])]),e("section",null,[Dt,e("ul",wt,[e("li",kt,[Mt,f(e("input",{class:"w-[150px] h-[30px]",type:"number",onChange:t[21]||(t[21]=(...s)=>o.sortDataset&&o.sortDataset(...s)),"onUpdate:modelValue":t[22]||(t[22]=s=>l.filterDataset.filters.budget.from=s),placeholder:"Ksh"},null,544),[[y,l.filterDataset.filters.budget.from]])]),e("li",jt,[It,f(e("input",{class:"w-[150px] h-[30px]",type:"number",onChange:t[23]||(t[23]=(...s)=>o.sortDataset&&o.sortDataset(...s)),"onUpdate:modelValue":t[24]||(t[24]=s=>l.filterDataset.filters.budget.to=s),placeholder:"Ksh"},null,544),[[y,l.filterDataset.filters.budget.to]])])])])])]),e("section",St,[e("ul",Vt,[l.filterDataset.search?(c(),u("li",Ct,[V("Search : "+b(l.filterDataset.search),1),e("span",{onClick:t[25]||(t[25]=m((...s)=>o.disableSearch&&o.disableSearch(...s),["prevent"]))},"X")])):_("",!0),l.filterDataset.sort.by!=null||l.filterDataset.sort.order?(c(),u("li",Ut,[V("Sort by "+b(l.filterDataset.sort.by)+" "+b(l.filterDataset.sort.order=="desc"?"Descending":"Ascending")+" ",1),e("span",{onClick:t[26]||(t[26]=m((...s)=>o.disableSort&&o.disableSort(...s),["prevent"]))},"X")])):_("",!0),l.filterDataset.filters.budget.from!=null||l.filterDataset.filters.budget.to?(c(),u("li",Pt,[V("Budget from "+b("Ksh"+l.filterDataset.filters.budget.from)+" "+b(l.filterDataset.filters.budget.to!=null?" to Ksh"+l.filterDataset.filters.budget.to:"")+" ",1),e("span",{onClick:t[27]||(t[27]=m((...s)=>o.disableBudgetFilter&&o.disableBudgetFilter(...s),["prevent"]))},"X")])):_("",!0)]),e("div",Ft,[p.filterProjects&&p.filterProjects.length>0?(c(),u("div",Kt,[(c(!0),u(w,null,I(p.filterProjects,s=>(c(),j(K,{class:"w-[100%] md:w-[49%] mb-4 lg:w-[30%] xl:300px",project:s,link:"ViewProject"},null,8,["project"]))),256))])):(c(),u("div",Nt,Tt)),p.filterProjects&&p.filterProjects.length>0?(c(),j(N,{key:2})):_("",!0)])])])]),e("footer",null,[S(B)])],64)}const Et=T(Q,[["render",Xt],["__scopeId","data-v-d9fd94c3"]]);export{Et as default};
